@page "/add-wine"
@inject DBBottiglie DB;
@inject Sessione sessione;
@inject NavigationManager NavigationManager;


<section class="container py-5">
    <span class="d-flex flex-row align-items-center gap-4 mb-3">
        <h2 class="fw-bold display-1">Bentornato!</h2>
        <img class="ms-auto" style="width: 2rem;" src="https://clipart-library.com/image_gallery/364493.png" alt="">
    </span>

    <h3 class="mt-3">Aggiungi una nuova bottiglia</h3>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label>Nome:</label>
                    <input placeholder="Bolgheri Sassicaia DOC" type="text" class="form-control" @bind="@bottiglia.Nome" />
                </div>

                <div class="form-group">
                    <label>Anno di Produzione:</label>
                    <input placeholder="2023" type="number" min="0" max="@DateTime.Now.Year" class="form-control" @bind="@bottiglia.AnnoProduzione" />
                </div>

                <div class="form-group">
                    <label>Provincia di Produzione:</label>
                    <input placeholder="LI" type="text" class="form-control" @bind="@bottiglia.ProvinciaProduzione" />
                </div>

                <div class="form-group">
                    <label>Regione di Produzione:</label>
                    <input placeholder="Lazio" type="text" class="form-control" @bind="@bottiglia.RegioneProduzione" />
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="form-group">
                    <label>Prezzo:</label>
                    <input placeholder="€320" type="number" min="0" class="form-control" @bind="@bottiglia.Prezzo" />
                </div>

                <div class="form-group">
                    <label>Percentuale Sconto:</label>
                    <input type="number" min="0" class="form-control" @bind="@bottiglia.PercentualeSconto" />
                </div>

                <div class="form-group">
                    <label>Gradazione:</label>
                    <input type="number" min="0" step="0.1" class="form-control" @bind="@bottiglia.Gradazione" />
                </div>

                <div class="form-group">
                    <label>Descrizione:</label>
                    <textarea placeholder="Vista la sua natura speciale, questo prodotto non è soggetto a promozioni e sconti. Non è possibile inoltre acquistarlo con buoni o coupon emessi da partner terzi." class="form-control" @bind="@bottiglia.Descrizione"></textarea>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-5 w-100 d-flex justify-content-center">
        <button class="btn" @onclick="() => DB.AggiungiBottiglia(bottiglia)">Aggiungi</button>
    </div>
</section>

@code {
    private Bottiglia bottiglia = new Bottiglia { AnnoProduzione = DateTime.Now.Year };
    private IBrowserFile selectedImage;
    private ElementReference inputFile;
}